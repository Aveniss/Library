<template>
  <lightning-card>
    <div class="slds-m-top_medium slds-m-bottom_x-large">
      <div class="slds-p-around_medium lgc-bg">
        <lightning-input
          type="email"
          label={label.EmailLabel}
          placeholder={label.EmailPlaceholder}
          onchange={handleChangeEmail}
          required
        ></lightning-input>

        <lightning-combobox
          name="progress"
          label={label.SelectStatusLabel}
          placeholder={label.SelectStatusPlaceholder}
          options={options}
          onchange={handleChangeStatus}
        ></lightning-combobox>
      </div>
    </div>

    <div
      class="slds-box slds-p-around_none slds-m-top_x-small slds-m-bottom_large slds-m-horizontal_none"
    >
      <lightning-layout multiple-rows>
        <template for:each={filteredLoans} for:item="column">
          <lightning-layout-item
            key={column.Key}
            size="12"
            small-device-size="6"
            medium-device-size="4"
            large-device-size="3"
            padding="around-small"
          >
            <div
              id={column.Key}
              onclick={selectItem}
              data-id={column.Key}
              class={column.Style}
            >
              <p>{label.ItemTitle}</p>
              <p>{column.Item__r.Name}</p>
              <p>{label.ItemType}</p>
              <p>{column.Item__r.Type__c}</p>
              <p>{label.LoanStart}</p>
              <p>{column.Rental_Date__c}</p>
              <p>{label.LoanEnd}</p>
              <p>{column.End_Of_Rental__c}</p>
              <template lwc:if={column.Penalty__c}>
                <p>{label.LoanPenalty}</p>
                <p>{column.Penalty__c}</p>
              </template>
            </div>
          </lightning-layout-item>
        </template>
      </lightning-layout>
    </div>

    <template lwc:if={getNumberOfSelectedLoans}>
      <lightning-modal-footer class="my-modal-footer">
        <lightning-button
          class="slds-button footer-button"
          variant="brand"
          label="RETURN"
          onclick={updateItemsStatus}
        ></lightning-button>
      </lightning-modal-footer>
    </template>
  </lightning-card>
</template>
